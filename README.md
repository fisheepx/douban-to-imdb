# douban-to-imdb

&ensp;&ensp;&ensp;&ensp;æœ€è¿‘å‘ç° Apple Tvä¸Šçš„ Infuseé‡Œå¯ä»¥å…³è” Traktæ˜¾ç¤ºå‡ºè‡ªå·±çš„è§‚çœ‹è®°å½•ï¼Œä½†æ˜¯æˆ‘ä¹‹å‰çš„è§‚çœ‹è®°å½•å…¨éƒ¨åœ¨è±†ç“£é‡Œï¼Œæ‰€ä»¥ Traktä¸Šæ˜¾ç¤ºçš„æ•°å­—å…¨éƒ¨æ˜¯ 0ï¼Œä¹‹åçš„è§‚çœ‹ Infuseä¼šè‡ªåŠ¨åŒæ­¥ï¼Œä½†æ˜¯ä¹‹å‰çš„è§‚çœ‹å°±éœ€è¦è‡ªå·±å¯¼å…¥ä¸€ä¸‹äº†ã€‚æ‰¾äº† GitHubä¹‹åå†³å®šå…ˆæŠŠè±†ç“£çš„è¯„åˆ†å¯¼å…¥åˆ° IMDBï¼Œç„¶åå†æŠŠ IMDBå¯¼å‡ºçš„ CSVæ–‡ä»¶ç”¨åˆ«äººå†™å¥½çš„å¦å¤–ä¸€ä¸ªç¨‹åºå¯¼å…¥åˆ° Traktã€‚è±†ç“£å¯¼å…¥ IMDBæ—¶å†³å®šåªå¯¼å…¥è¯„åˆ†ä¸å¯¼å…¥ä»»ä½•è¯„ä»·ï¼Œæ¯•ç«Ÿè¯„ä»·éƒ½æ˜¯ä¸­æ–‡çš„è¯„ä»·ï¼Œå¯¼å…¥åˆ° IMDBä¹Ÿæ²¡æœ‰å¤šå¤§æ„ä¹‰ï¼Œå°±è®©å®ƒä»¬ç•™åœ¨è±†ç“£å§ã€‚

## éœ€æ±‚

* [pyenv](https://github.com/pyenv/pyenv)
* [pyenv-virtualenv](https://github.com/pyenv/pyenv-virtualenv)
* [Chrome](https://www.google.com/chrome/)
* [chromedriver](https://chromedriver.chromium.org/downloads)ï¼ˆSeleniumçš„Chromeé©±åŠ¨ç¨‹åºï¼Œå¦‚ä½•å®‰è£…è¯·è‡ªè¡Œè°·æ­Œï¼‰

## åˆå§‹åŒ–

    $ pyenv install 3.8.0
    $ pyenv virtualenv 3.8.0 douban-to-imdb-env
    $ pyenv activate douban-to-imdb-env
    $ pip install -r requirements.txt
    
###### *ãƒ»å¦‚æœä¸ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œè¯·å‚ç…§ requirements.txtä¸­çš„å†…å®¹è‡ªè¡Œå®‰è£…ä¾èµ–åŒ…*
    
## ä½¿ç”¨

&ensp;&ensp;&ensp;&ensp;ç¨‹åºåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥å…ˆå°†è±†ç“£è¯„åˆ†å¯¼å‡ºåˆ° CSVæ–‡ä»¶ï¼Œç¬¬äºŒæ­¥å†å°† CSVæ–‡ä»¶ä¸­çš„å†…å®¹å¯¼å…¥åˆ° IMDBã€‚

#### å¯¼å‡ºè±†ç“£ç”µå½±è¯„åˆ†åˆ° CSVæ–‡ä»¶

    $ python douban_to_csv.py <user_id> [yyyymmdd] 
    
*`[user_id]`ä¸ºè±†ç“£çš„ç”¨æˆ· IDï¼ŒæŸ¥æ‰¾æ–¹æ³•å‚è§ï¼š[å¦‚ä½•æŸ¥æ‰¾è‡ªå·±çš„è±†ç“£ ID](#å¦‚ä½•æŸ¥æ‰¾è‡ªå·±çš„è±†ç“£-ID)*

*`[yyyymmdd]`ä¸ºçˆ¬å–çš„å¼€å§‹æ—¥æœŸï¼Œå³å¤§äºï¼ˆä¸åŒ…å«ï¼‰è¯¥æ—¥æœŸçš„ç”µå½±è¯„åˆ†æ‰ä¼šè¢«çˆ¬å–*

#### å¯¼å…¥ç”µå½±è¯„åˆ†åˆ° IMDB

&ensp;&ensp;&ensp;&ensp;ç”±äºå¯¼å…¥ IMDBéœ€è¦ç™»å½•ï¼Œæ‰€ä»¥æ­¤è¿‡ç¨‹ç¨‹åºä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œç­‰å¾…ç”¨æˆ·è‡ªè¡Œç™»å½• IMDBè´¦å·ã€‚ç™»å½•æˆåŠŸåæµè§ˆå™¨ä¼šè‡ªåŠ¨æŸ¥æ‰¾ç”µå½±å¹¶è¿›è¡Œæ‰“åˆ†ï¼Œè¿™æ˜¯æ­£å¸¸çš„ç¨‹åºæ“ä½œï¼Œå¹¶ä¸æ˜¯é—¹é¬¼ï¼Œè¯·å‹¿æƒŠæ…Œã€‚ ğŸ‘»ğŸ‘»ğŸ‘»

    $ python csv_to_imdb.py [unmark/-2/-1/0/1/2]
    
###### *ãƒ»å‚æ•°å¦‚æœä¸º unmarkæ—¶ï¼Œåˆ™ä¼šæ¸…é™¤CSVæ–‡ä»¶ä¸­ç”µå½±å¯¹åº”çš„ IMDBä¸­çš„è¯„åˆ†*

###### *ãƒ»å‚æ•°å¦‚æœä¸ºæ•°å­—æ—¶ï¼Œåˆ™æ‰“åˆ†æ—¶ä¼šåŠ ä¸Šä¼ å…¥çš„æ•°å€¼ï¼Œå‚æ•°èŒƒå›´ä¸º Â±2åˆ†*

###### *ãƒ»å‚æ•°ä¸ºç©ºæ—¶ï¼Œé»˜è®¤æ‰“åˆ† -1åˆ†ï¼ˆç”±äºè±†ç“£æ‰“åˆ†ç²’åº¦å¤ªå¤§ï¼Œå¯¼è‡´æœ¬äººè¯„åˆ†ç»“æœå¾€å¾€ä¼šæ¯”å®é™…æ„Ÿå—ç¨é«˜ 1åˆ†å·¦å³ï¼‰*

###### *ä¾‹ï¼šï¼ˆæ— å‚æ•°æ—¶ï¼‰*
  
###### *&ensp;&ensp;&ensp;è±†ç“£è¯„äº”æ˜Ÿï¼šIMDBæ‰“ 9åˆ† ï¼ˆè€ƒè™‘åˆ°å®é™…ä¸Šèƒ½æ»¡åˆ†çš„ç”µå½±æ¯”è¾ƒå°‘ï¼‰*
  
###### *&ensp;&ensp;&ensp;è±†ç“£è¯„ä¸€æ˜Ÿï¼šIMDBæ‰“ 1åˆ† ï¼ˆè€ƒè™‘åˆ°ä½ æ—¢ç„¶éƒ½æ‰“ä¸€æ˜Ÿäº†è‚¯å®šæ˜¯è¿™ç”µå½±çƒ‚åˆ°ä½ æ¨ä¸å¾—ç»™ 0åˆ†ï¼‰*

#### å¯¼å…¥ IMDBé‡Œæ ‡è®°çš„ç”µå½±åˆ° Traktçš„å·²è§‚çœ‹è®°å½•

[TraktRater](https://github.com/damienhaynes/TraktRater/releases) æ˜¯ä¸€ä¸ª Windowsåº”ç”¨ç¨‹åºï¼ŒæŒ‰ç…§é‡Œé¢çš„è¯´æ˜æ–‡å­—å³å¯æˆåŠŸå¯¼å…¥ IMDBè®°å½•åˆ° Traktã€‚

## è¿è¡Œæˆªå›¾

#### å¯¼å‡º CSV

&ensp;&ensp;&ensp;&ensp;æˆ‘ä¹Ÿæ˜¯å†™è¿™ä¸ªç¨‹åºçš„æ—¶å€™æ‰å‘ç°ï¼Œä¸€äº›åŒ…å«æƒ…è‰²æˆ–è€…æš´åŠ›å†…å®¹çš„ç”µå½±ï¼Œåœ¨ä¸ç™»å½•è±†ç“£è´¦å·çš„æƒ…å†µä¸‹æ‰“å¼€å¯¹åº”æ¡ç›®ä¼šæ˜¾ç¤ºè®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ï¼Œå¦‚ï¼šç½—é©¬å¸å›½è‰³æƒ…å²ï¼Œæ ‘å¤§æ‹›é£ç­‰ï¼Œè¿™äº›æ¡ç›®è¯·è‡ªè¡Œæ‰‹å·¥æ ‡è®°æ‰“åˆ†ã€‚è¿˜æœ‰å°±æ˜¯ä¸€äº›æ¡ç›®åœ¨è±†ç“£çš„æ¡ç›®é¡µé‡Œæ²¡æœ‰å¯¹åº”çš„ IMDBæ¡ç›®ï¼Œåº”è¯¥æ˜¯æœ¬æ¥åœ¨ IMDBçš„æ•°æ®åº“ä¸­å°±æ²¡æœ‰ï¼Œå¦‚ï¼šæé™æŒ‘æˆ˜ç¬¬äº”å­£ç­‰ï¼Œè¿™ç§æ¡ç›®å°±æ²¡æœ‰åŠæ³•äº†ã€‚

![image](https://github.com/fisheepx/douban-to-imdb/blob/master/screenshots/douban-to-csv1.png)

![image](https://github.com/fisheepx/douban-to-imdb/blob/master/screenshots/douban-to-csv2.png)

#### å¯¼å…¥ IMDB

![image](https://github.com/fisheepx/douban-to-imdb/blob/master/screenshots/csv-to-imdb2.png)

![image](https://github.com/fisheepx/douban-to-imdb/blob/master/screenshots/csv-to-imdb1.png)

## å…¶å®ƒ

* #### å¦‚ä½•æŸ¥æ‰¾è‡ªå·±çš„è±†ç“£ ID

&ensp;&ensp;&ensp;&ensp; å…ˆç™»å½•è‡ªå·±çš„è±†ç“£è´¦å·ï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’çš„åå­—ï¼Œæ‰“å¼€[ä¸ªäººä¸»é¡µ](https://www.douban.com/mine/)ï¼Œå°±åœ¨è·³è½¬åˆ°çš„URLé‡Œï¼šhttps://www.douban.com/people/[è¿™é‡Œçš„æ•°å­—å°±æ˜¯ä½ çš„user_id]/

## æ„Ÿè°¢

* å¯¼å‡ºè±†ç“£ç”µå½±è¯„åˆ†éƒ¨åˆ†çš„é€»è¾‘ç›´æ¥å¤åˆ¶äº† @IvanWooçš„ [douban-exporter-lite](https://github.com/IvanWoo/douban-exporter-lite)ï¼Œåœ¨æ­¤æ„Ÿè°¢ã€‚

* å¯¼å…¥åˆ°Traktéƒ¨åˆ†ä½¿ç”¨äº† @damienhaynesçš„ [TraktRater](https://github.com/damienhaynes/TraktRater)ï¼Œåœ¨æ­¤æ„Ÿè°¢ã€‚
